---
layout: default
title: Demo
---

<script>

  function showMessage(str) {
    alert(str);
  }

</script>

<section class="bs-docs-section">
  <h1 id="demo-basic" class="page-header">Basic</h1>
  <p>This is the very basic use of the ExpressionBuilder by just enabling the tool with validaiton:</p>

  <div class="form-group">
    <input type="text" id="txt-1" class="form-control" value="(10 + 5) / 2" />
  </div>
  <div class="form-group">
    <button class="btn btn-primary btn-validate-1">Validate</button>
    <button class="btn btn-primary btn-get-1">Get</button>
  </div>

  <script id="basic-script">

    var expBuilder = $('#txt-1').expressionBuilder();

    $('.btn-validate-1').on('click', function () {
      if (expBuilder.isValid())
        showMessage('Valid');
      else
        showMessage('Not valid');
    });

    $('.btn-get-1').on('click', function () {
      showMessage(expBuilder.getExpression());
    });
  </script>
</section>

<section class="bs-docs-section">
  <h1 id="demo-variable" class="page-header">Variables</h1>
  <p>In this example we have defined a variable list for the expressionBuidler, type the variable names to see the suggestions:</p>

  <div class="form-group">
    <input type="text" id="txt-2" class="form-control" />
  </div>
  <div class="form-group">
    <button class="btn btn-primary btn-validate-2">Validate</button>
    <button class="btn btn-primary btn-get-exp-2">Get expression</button>
    <button class="btn btn-primary btn-get-input-2">Get input</button>
  </div>

  <script id="variable-script">

    let options = {
      variables: [
        {
          variableId: 1,
          name: 'FirstName'
        },
        {
          variableId: 2,
          name: 'Age'
        }
      ],
      expression: "[2] + 4"
    };

    var expBuilder2 = $('#txt-2').expressionBuilder(options);

    $('.btn-validate-2').on('click', function () {
      if (expBuilder2.isValid())
        showMessage('Valid');
      else
        showMessage('Not valid');
    });

    $('.btn-get-exp-2').on('click', function () {
      showMessage(expBuilder2.getExpression());
    });

    $('.btn-get-input-2').on('click', function () {
      showMessage(expBuilder2.getInput());
    });
  </script>
</section>

<section class="bs-docs-section">
  <h1 id="demo-functions" class="page-header">Functions</h1>
  <p>In this example we have defined two funcitons for the expressionBuidler, type the function names to see the suggestions:</p>

  <div class="form-group">
    <input type="text" id="txt-3" class="form-control" />
  </div>
  <div class="form-group">
    <button class="btn btn-primary btn-validate-3">Validate</button>
    <button class="btn btn-primary btn-get-exp-3">Get expression</button>
    <button class="btn btn-primary btn-get-run-3">Run expression</button>
  </div>

  <script id="variable-script">

    let options3 = {
      variables: [
        {
          variableId: 1,
          name: 'FirstName'
        },
        {
          variableId: 2,
          name: 'Age'
        }
      ],
      expression: "Add([2], 4)",
      functions: {
        Add: function (x, y) {

          if (x == undefined || isNaN(parseFloat(x)))
            throw new Error("Parameter 'x' is not defined or is not a number.");

          return x + y;
        },
        Sub: function (x, y) {
          return x - y;
        }
      }
    };

    var expBuilder3 = $('#txt-3').expressionBuilder(options3);

    $('.btn-validate-3').on('click', function () {
      if (expBuilder3.isValid())
        showMessage('Valid');
      else
        showMessage('Not valid');
    });

    $('.btn-get-exp-3').on('click', function () {
      showMessage(expBuilder3.getExpression());
    });

    $('.btn-get-run-3').on('click', function () {
      showMessage(expBuilder3.getInput() + " = " + expBuilder3.runExpression());
    });
  </script>
</section>
